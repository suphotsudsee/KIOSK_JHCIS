import{a as V,r as c,b as d,f as $,e as q,h,i as p,o as A,j as D,k as t,t as s,u as e,F as L}from"./entry.d3560666.js";import{u as Q}from"./useQRCode.e00aa3fb.js";import{u as E}from"./fetch.66222654.js";const G={title:u=>{var a;return(a=O.find(n=>n.titlecode===u))==null?void 0:a.titlename}},O=[{titlecode:"001",titlename:"ด.ช."},{titlecode:"002",titlename:"ด.ญ."},{titlecode:"003",titlename:"นาย"},{titlecode:"004",titlename:"น.ส."},{titlecode:"005",titlename:"นาง"}],T=async()=>{const u="http://localhost:3001",{data:a,pending:n,error:_,refresh:x}=await E(`${u}/jhcis/api/v1/numberclaim`,"$BwLOG2Rr7g");return{data:a,pending:n,error:_,refresh:x}},U={class:"relative"},z=t("div",{class:"absolute right-2 w-16 text-base"},"คิวที่",-1),J={class:"absolute top-10 right-2 h-12 w-10 border-2 border-black text-lg text-center text"},K={class:"flex justify-center"},W=["src"],X={class:"flex justify-center"},Y={class:"text-xs text-gray-900 dark:text-white"},Z={class:"flex justify-start mx-2 mt-10"},tt={class:"text-sm text-right text-gray-900 dark:text-white"},et={class:"flex justify-start mx-2"},st={class:"text-base text-right text-gray-900 dark:text-white"},at={class:"flex justify-start mx-2"},it={class:"text-basetext-right text-gray-900 dark:text-white"},ot={class:"flex justify-start mx-2"},nt={class:"text-base text-right text-gray-900 dark:text-white"},lt={class:"flex justify-start mx-2"},rt={class:"text-base text-right text-gray-900 dark:text-white"},ct={class:"flex justify-start mx-2"},dt={class:"text-base text-right text-gray-900 dark:text-white"},ht={class:"flex justify-start mx-2"},ut={class:"text-sm text-right tracking-tight text-clip overflow-hidden text-gray-900 dark:text-white"},_t={class:"flex justify-start mx-2"},xt={class:"text-sm text-right tracking-tight text-clip overflow-hidden text-gray-900 dark:text-white"},pt=V({__name:"print",setup(u){const a=c(d("patientClaim")),n=c(d("hospitalState")),_=c(d("personState")),x=c(d("patientInfo")),m=c(d("visitState")),R=Q(m.value.visitno.toString()),F=$(),{$dayjs:g}=q(),y=h(0),k=h({hoscode:"",hosname:"",address:"",road:"",mu:"",provname:"",distname:"",subdistname:""}),i=h(),o=h(),H=h();p(()=>{n.value&&(k.value=n.value)}),p(()=>{m.value&&(i.value=m.value),_.value&&(o.value=_.value,console.log(o.value)),x.value&&(H.value=x.value),setTimeout(I,1e3)}),p(async()=>{var r;const{data:l,error:P,pending:f,refresh:v}=await T();(r=l.value)!=null&&r.ok&&(console.log(l.value.data),y.value=l.value.data.no)});const I=()=>{window.print(),F.push("/")};return(l,P)=>{var f,v,r,w,b,j,S,B,C,N,M;return A(),D(L,null,[t("div",U,[z,t("div",J,s(e(y)),1)]),t("div",K,[t("img",{src:e(R),alt:"QR Code",width:"110"},null,8,W)]),t("div",X,[t("h2",Y,s(e(k).hosname),1)]),t("div",Z,[t("h2",tt," หมายเลขบัตรประชาชน: "+s((f=e(o))==null?void 0:f.idcard),1)]),t("div",et,[t("h2",st," ชื่อ: "+s(("lookup"in l?l.lookup:e(G)).title((v=e(o))==null?void 0:v.prename)+""+((r=e(o))==null?void 0:r.fname)+" "+((w=e(o))==null?void 0:w.lname)),1)]),t("div",at,[t("h2",it," HN: "+s((b=e(o))==null?void 0:b.pid),1)]),t("div",ot,[t("h2",nt," วันรับบริการ: "+s(e(g)((j=e(i))==null?void 0:j.visitdate).format("D MMMM BBBB")),1)]),t("div",lt,[t("h2",rt," เวลา: "+s((S=e(i))!=null&&S.datetime_claim?e(g)((B=e(i))==null?void 0:B.datetime_claim).format("HH:mm:ss น."):((C=e(i))==null?void 0:C.timestart)+" น."),1)]),t("div",ct,[t("h2",dt," ClaimCode: "+s((N=e(i))!=null&&N.claimcode_nhso?(M=e(i))==null?void 0:M.claimcode_nhso:"ยังไม่ได้ขอ Authen Code"),1)]),t("div",ht,[t("p",ut," สิทธิหลัก: "+s(e(a)?e(a).mainInscl:null),1)]),t("div",_t,[t("p",xt," สิทธิรอง "+s(e(a)?e(a).subInscl:null),1)])],64)}}});export{pt as default};
